{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResourceSearch=()=>{const[keywords,setKeywords]=useState(\"\");const[allResources,setAllResources]=useState([]);// Store all resources\nconst[filteredResources,setFilteredResources]=useState([]);// Store filtered resources\n// Fetch resources from the API on mount\nuseEffect(()=>{const fetchResources=async()=>{try{const response=await fetch('http://127.0.0.1:8000/api/resource/deserial');// API endpoint\nif(!response.ok)throw new Error('Failed to fetch resources');const data=await response.json();setAllResources(data);// Set the fetched resources\nsetFilteredResources(data);// Initialize filtered resources\n}catch(error){console.error('Error fetching resources:',error);}};fetchResources();},[]);// Handle input changes\nconst handleKeywordsChange=e=>{const value=e.target.value;setKeywords(value);// Filter resources based on the search input\nconst filtered=allResources.filter(resource=>{const resourceKeywords=resource.keywords.toLowerCase();return resource.resource_name.toLowerCase().includes(value.toLowerCase())||resourceKeywords.split(',').some(keyword=>keyword.trim().includes(value.toLowerCase()));});setFilteredResources(filtered);// Update filtered resources\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),style:styles.searchForm,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"keywords\",style:styles.label,children:\"Keywords:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"keywords\",id:\"keywords\",placeholder:\"Search for resources based on keywords\",value:keywords,onChange:handleKeywordsChange,style:styles.searchInput})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Search Results:\"}),/*#__PURE__*/_jsx(\"ul\",{children:filteredResources.length>0?filteredResources.map(resource=>/*#__PURE__*/_jsxs(\"li\",{children:[resource.resource_name,\" - \",resource.subject,\" - \",resource.grade]},resource.id)):/*#__PURE__*/_jsx(\"li\",{children:\"No resources found.\"})})]});};// Styles for the search section\nconst styles={searchForm:{display:\"flex\",justifyContent:\"center\",marginBottom:\"20px\"},label:{marginRight:\"10px\",alignSelf:\"center\"},searchInput:{padding:\"10px\",width:\"250px\",borderRadius:\"4px\",border:\"1px solid #ccc\",marginRight:\"10px\"}};export default ResourceSearch;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ResourceSearch","keywords","setKeywords","allResources","setAllResources","filteredResources","setFilteredResources","fetchResources","response","fetch","ok","Error","data","json","error","console","handleKeywordsChange","e","value","target","filtered","filter","resource","resourceKeywords","toLowerCase","resource_name","includes","split","some","keyword","trim","children","onSubmit","preventDefault","style","styles","searchForm","htmlFor","label","type","name","id","placeholder","onChange","searchInput","length","map","subject","grade","display","justifyContent","marginBottom","marginRight","alignSelf","padding","width","borderRadius","border"],"sources":["J:/Frontend-Project/Front-end/frontend-bananaboat/src/components/resource-search.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst ResourceSearch = () => {\r\n  const [keywords, setKeywords] = useState(\"\");\r\n  const [allResources, setAllResources] = useState([]); // Store all resources\r\n  const [filteredResources, setFilteredResources] = useState([]); // Store filtered resources\r\n\r\n  // Fetch resources from the API on mount\r\n  useEffect(() => {\r\n    const fetchResources = async () => {\r\n      try {\r\n        const response = await fetch('http://127.0.0.1:8000/api/resource/deserial'); // API endpoint\r\n        if (!response.ok) throw new Error('Failed to fetch resources');\r\n        const data = await response.json();\r\n        setAllResources(data); // Set the fetched resources\r\n        setFilteredResources(data); // Initialize filtered resources\r\n      } catch (error) {\r\n        console.error('Error fetching resources:', error);\r\n      }\r\n    };\r\n\r\n    fetchResources();\r\n  }, []);\r\n\r\n  // Handle input changes\r\n  const handleKeywordsChange = (e) => {\r\n    const value = e.target.value;\r\n    setKeywords(value);\r\n\r\n    // Filter resources based on the search input\r\n    const filtered = allResources.filter(resource => {\r\n      const resourceKeywords = resource.keywords.toLowerCase();\r\n      return (\r\n        resource.resource_name.toLowerCase().includes(value.toLowerCase()) ||\r\n        resourceKeywords.split(',').some(keyword => keyword.trim().includes(value.toLowerCase()))\r\n      );\r\n    });\r\n    \r\n    setFilteredResources(filtered); // Update filtered resources\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={(e) => e.preventDefault()} style={styles.searchForm}>\r\n        <label htmlFor=\"keywords\" style={styles.label}>Keywords:</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"keywords\"\r\n          id=\"keywords\"\r\n          placeholder=\"Search for resources based on keywords\"\r\n          value={keywords}\r\n          onChange={handleKeywordsChange}\r\n          style={styles.searchInput}\r\n        />\r\n      </form>\r\n\r\n      <h2>Search Results:</h2>\r\n      <ul>\r\n        {filteredResources.length > 0 ? (\r\n          filteredResources.map((resource) => (\r\n            <li key={resource.id}>\r\n              {resource.resource_name} - {resource.subject} - {resource.grade}\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <li>No resources found.</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Styles for the search section\r\nconst styles = {\r\n  searchForm: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  label: {\r\n    marginRight: \"10px\",\r\n    alignSelf: \"center\",\r\n  },\r\n  searchInput: {\r\n    padding: \"10px\",\r\n    width: \"250px\",\r\n    borderRadius: \"4px\",\r\n    border: \"1px solid #ccc\",\r\n    marginRight: \"10px\",\r\n  },\r\n};\r\n\r\nexport default ResourceSearch;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}