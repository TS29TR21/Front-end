{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RateResource=()=>{const[resourceId,setResourceId]=useState('');const[rating,setRating]=useState('');const[ratedResources,setRatedResources]=useState([]);// Example resource list (replace with your actual resources)\nconst resources=[{id:'1',name:'Resource 1'},{id:'2',name:'Resource 2'},{id:'3',name:'Resource 3'},{id:'4',name:'Resource 4'},{id:'5',name:'Resource 5'}];// Handle input changes\nconst handleResourceIdChange=e=>{setResourceId(e.target.value);};const handleRatingChange=e=>{setRating(e.target.value);};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();if(!resourceId||!rating){alert('Please fill in all fields.');return;}// Make sure the rating is between 1 and 5\nif(rating<1||rating>5){alert('Rating must be between 1 and 5.');return;}const formData=new FormData();formData.append('resourceId',resourceId);formData.append('rating',rating);try{const response=await fetch('resourceRating',{method:'POST',body:formData,headers:{'X-CSRFToken':getCSRFToken()}});if(response.ok){alert('Rating submitted successfully!');// Update the rated resources list\nsetRatedResources([...ratedResources,{id:resourceId,rating}]);// Clear input fields\nsetResourceId('');setRating('');}else{alert('Failed to submit rating.');}}catch(error){console.error('Error submitting rating:',error);alert('An error occurred while submitting the rating.');}};// Example function to get CSRF token\nconst getCSRFToken=()=>{return document.cookie.split(';').find(item=>item.trim().startsWith('csrftoken=')).split('=')[1];};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Rate Resources\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.flexContainer,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Resource\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"resourceId\",value:resourceId,onChange:handleResourceIdChange,style:styles.input,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a resource\"}),resources.map(resource=>/*#__PURE__*/_jsx(\"option\",{value:resource.id,children:resource.name},resource.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Rating (1-5)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Enter Rating\",name:\"rating\",value:rating,onChange:handleRatingChange,style:styles.input,min:\"1\",max:\"5\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.submitButton,children:\"Submit Rating\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.ratedResourcesContainer,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.subTitle,children:\"Rated Resources\"}),ratedResources.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No resources rated\"}):/*#__PURE__*/_jsx(\"ul\",{style:styles.ratedResourcesList,children:ratedResources.map((resource,index)=>/*#__PURE__*/_jsxs(\"li\",{style:styles.resourceItem,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Resource ID:\"}),\" \",resource.id,\", \",/*#__PURE__*/_jsx(\"strong\",{children:\"Rating:\"}),\" \",resource.rating]},index))})]})]})]});};// Styles for the component\nconst styles={container:{maxWidth:'800px',margin:'auto',padding:'20px',backgroundColor:'#f9f9f9',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0,0,0,0.1)'},title:{textAlign:'center',marginBottom:'20px'},flexContainer:{display:'flex',justifyContent:'space-between'},form:{display:'flex',flexDirection:'column',marginRight:'20px',flex:1},inputGroup:{marginBottom:'15px'},label:{marginBottom:'5px',fontWeight:'bold'},input:{padding:'10px',borderRadius:'4px',border:'1px solid #ccc',width:'100%'},submitButton:{padding:'10px',backgroundColor:'#4CAF50',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},ratedResourcesContainer:{marginTop:'20px',padding:'10px',border:'1px solid #ccc',borderRadius:'4px',backgroundColor:'#ffffff',flex:1},subTitle:{marginBottom:'10px'},ratedResourcesList:{listStyleType:'none',padding:'0'},resourceItem:{padding:'5px 0'}};export default RateResource;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","RateResource","resourceId","setResourceId","rating","setRating","ratedResources","setRatedResources","resources","id","name","handleResourceIdChange","e","target","value","handleRatingChange","handleSubmit","preventDefault","alert","formData","FormData","append","response","fetch","method","body","headers","getCSRFToken","ok","error","console","document","cookie","split","find","item","trim","startsWith","style","styles","container","children","title","flexContainer","onSubmit","form","inputGroup","label","onChange","input","disabled","map","resource","type","placeholder","min","max","submitButton","ratedResourcesContainer","subTitle","length","ratedResourcesList","index","resourceItem","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","textAlign","marginBottom","display","justifyContent","flexDirection","marginRight","flex","fontWeight","border","width","color","cursor","marginTop","listStyleType"],"sources":["J:/Frontend-Project/Front-end/frontend-bananaboat/src/components/rate-resource.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst RateResource = () => {\r\n  const [resourceId, setResourceId] = useState('');\r\n  const [rating, setRating] = useState('');\r\n  const [ratedResources, setRatedResources] = useState([]);\r\n\r\n  // Example resource list (replace with your actual resources)\r\n  const resources = [\r\n    { id: '1', name: 'Resource 1' },\r\n    { id: '2', name: 'Resource 2' },\r\n    { id: '3', name: 'Resource 3' },\r\n    { id: '4', name: 'Resource 4' },\r\n    { id: '5', name: 'Resource 5' },\r\n  ];\r\n\r\n  // Handle input changes\r\n  const handleResourceIdChange = (e) => {\r\n    setResourceId(e.target.value);\r\n  };\r\n\r\n  const handleRatingChange = (e) => {\r\n    setRating(e.target.value);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!resourceId || !rating) {\r\n      alert('Please fill in all fields.');\r\n      return;\r\n    }\r\n\r\n    // Make sure the rating is between 1 and 5\r\n    if (rating < 1 || rating > 5) {\r\n      alert('Rating must be between 1 and 5.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('resourceId', resourceId);\r\n    formData.append('rating', rating);\r\n\r\n    try {\r\n      const response = await fetch('resourceRating', {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n          'X-CSRFToken': getCSRFToken(),\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Rating submitted successfully!');\r\n        // Update the rated resources list\r\n        setRatedResources([...ratedResources, { id: resourceId, rating }]);\r\n        // Clear input fields\r\n        setResourceId('');\r\n        setRating('');\r\n      } else {\r\n        alert('Failed to submit rating.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting rating:', error);\r\n      alert('An error occurred while submitting the rating.');\r\n    }\r\n  };\r\n\r\n  // Example function to get CSRF token\r\n  const getCSRFToken = () => {\r\n    return document.cookie.split(';').find((item) => item.trim().startsWith('csrftoken=')).split('=')[1];\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h1 style={styles.title}>Rate Resources</h1>\r\n\r\n      <div style={styles.flexContainer}>\r\n        <form onSubmit={handleSubmit} style={styles.form}>\r\n          <div style={styles.inputGroup}>\r\n            <label style={styles.label}>Resource</label>\r\n            <select\r\n              name=\"resourceId\"\r\n              value={resourceId}\r\n              onChange={handleResourceIdChange}\r\n              style={styles.input}\r\n            >\r\n              <option value=\"\" disabled>Select a resource</option>\r\n              {resources.map((resource) => (\r\n                <option key={resource.id} value={resource.id}>\r\n                  {resource.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div style={styles.inputGroup}>\r\n            <label style={styles.label}>Rating (1-5)</label>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Enter Rating\"\r\n              name=\"rating\"\r\n              value={rating}\r\n              onChange={handleRatingChange}\r\n              style={styles.input}\r\n              min=\"1\"\r\n              max=\"5\"\r\n            />\r\n          </div>\r\n          <button type=\"submit\" style={styles.submitButton}>Submit Rating</button>\r\n        </form>\r\n\r\n        <div style={styles.ratedResourcesContainer}>\r\n          <h2 style={styles.subTitle}>Rated Resources</h2>\r\n          {ratedResources.length === 0 ? (\r\n            <p>No resources rated</p>\r\n          ) : (\r\n            <ul style={styles.ratedResourcesList}>\r\n              {ratedResources.map((resource, index) => (\r\n                <li key={index} style={styles.resourceItem}>\r\n                  <strong>Resource ID:</strong> {resource.id}, <strong>Rating:</strong> {resource.rating}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Styles for the component\r\nconst styles = {\r\n  container: {\r\n    maxWidth: '800px',\r\n    margin: 'auto',\r\n    padding: '20px',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    marginBottom: '20px',\r\n  },\r\n  flexContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginRight: '20px',\r\n    flex: 1,\r\n  },\r\n  inputGroup: {\r\n    marginBottom: '15px',\r\n  },\r\n  label: {\r\n    marginBottom: '5px',\r\n    fontWeight: 'bold',\r\n  },\r\n  input: {\r\n    padding: '10px',\r\n    borderRadius: '4px',\r\n    border: '1px solid #ccc',\r\n    width: '100%',\r\n  },\r\n  submitButton: {\r\n    padding: '10px',\r\n    backgroundColor: '#4CAF50',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n  ratedResourcesContainer: {\r\n    marginTop: '20px',\r\n    padding: '10px',\r\n    border: '1px solid #ccc',\r\n    borderRadius: '4px',\r\n    backgroundColor: '#ffffff',\r\n    flex: 1,\r\n  },\r\n  subTitle: {\r\n    marginBottom: '10px',\r\n  },\r\n  ratedResourcesList: {\r\n    listStyleType: 'none',\r\n    padding: '0',\r\n  },\r\n  resourceItem: {\r\n    padding: '5px 0',\r\n  },\r\n};\r\n\r\nexport default RateResource;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}